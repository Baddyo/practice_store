<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var a = 'a';

        function f() {
            console.log(this.a);
            console.log(this);
        }
        f(); // 'a'、Window
        f.call({
            a: 'b'
        }); // 'b'、{a: 'b'}
        f.call({}); // undefined、{}
        f.call(); // 'a'、Window
    </script>
    <script>
        // var name = 'badd';

        // let arrow = () => {
        //     console.log(this.name);
        //     console.log(this);
        // };
        // // arrow(); // 'badd'、Window

        // let func = function () {
        //     return arrow;
        // };
        // // func().call({name:'xxx'}); // 'badd'、Window
        // // func.call({name:'xxx'})(); // 'badd'、Window

        // let func1 = function () {
        //     return () => {
        //         console.log(this.name);
        //         console.log(this);
        //     };
        // };
        // func1().call({name:'xxx'}); // 'badd'、Window
        // func1.call({name:'xxx'})(); // 'xxx'、{name: 'xxx'}

        // let obj1 = {
        //     name: 'obj',
        //     f: func
        // };
        // // obj1.f()(); // 'badd'、Window

        // let obj2 = {
        //     name: 'obj',
        //     f: () => {
        //         console.log(this.name);
        //         console.log(this);
        //     }
        // };
        // // obj2.f(); // 'badd'、Window

        // let obj3 = {
        //     name: 'obj',
        //     f: function () {
        //         return () => {
        //             console.log(this.name);
        //             console.log(this);
        //         }
        //     }
        // };
        // obj3.f()(); // 'obj'、{name: "obj", f: ƒ}
    </script>
    <script>
        // function func1() {
        //     let name1 = 'letInFunc1';
        //     var name2 = 'varInFunc1';
        //     console.log(this.name1);
        //     console.log(this.name2);
        //     console.log(this);
        // }
        // func1(); // undefined、undefined、Window
    </script>
    <script>
        // function func2() {
        //     let name1 = 'letInFunc2';
        //     var name2 = 'varInFunc2';
        //     console.log(this.name1);
        //     console.log(this.name2);
        //     console.log(this);
        // }
        // let name1 = 'inWindow1';
        // var name2 = 'inWindow2';
        // func2(); // undefined、inWindow2、Window
    </script>
    <script>
        // let obj1 = {
        //     name: 'badd',
        //     func: function () {
        //         console.log(this.name);
        //     }
        // };
        // obj1.func.call({
        //     name: 'XXX'
        // }); // 'XXX'

        // obj1.func(); // 'badd'
        // let f = obj1.func;
        // f(); // 返回 ''，此时 this 指向全局对象 window
        // console.log(window.name); // ''
    </script>
</body>

</html>